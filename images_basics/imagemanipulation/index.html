<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Images &amp; Image Manipulation in HTML, CSS &amp; JavaScript</title>
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@300&family=IBM+Plex+Sans:ital,wght@0,300;0,500;1,300&display=swap" rel="stylesheet">
	<link href="styles.css" rel="stylesheet">
</head>

<body>
	<header>
		<h1>Images &amp; Image Manipulation in HTML, CSS &amp; JavaScript</h1>
	</header>
	<section>
		<h2>Introduction</h2>

		<p>This lecture will contain some review information and some new information about working with images on the web. The important takeaways are these:</p>
		<ol>
			<li>Use methods and techniques that communicate your ideas best. Experiment and play with ideas/methods to see what works. You may find that a simple, easy to implement method is most effective, or you may need to employ more sophisticated methods. Let effective communication guide you.</li>
			<li>Pay attention to performance. This is important for accessibility, equity of access and reduces abandonment from your project because users are bored waiting for a resource to load. In most cases, you only have a few seconds before your audience will move on to something else.</li>
		</ol>
		<h2>Review Image Formats</h2>

		<p>As you know, digital images can be saved in a number of different formats. Let's review those formats and their advantages and disadvantages. Always pick the format that works best for your image and the context in which that image will be used. Optimize for the smallest file size while giving up acceptable quality.</p>

		<h3>JPEG</h3>

		<p>This format has been around for a long time, having been created by the Joint Photographic Experts Group in 1992. It is the most widely used format for photographs and reduces the amount of digital storage space needed for images by losing data from the image. It's considered a &quot;lossy&quot; format and once the data has been lost, there is no retrieving it again. Each time the file is saved, more information is lost. To find out more about JPEG, a good place to start is the <a href="https://en.wikipedia.org/wiki/JPEG">Wikipedia page on JPEG</a>.</p>

		<h3>GIF</h3>

		<p>Short for Graphic Interchange Format, GIF has been around even longer than JPEG, since 1987. GIF supports 8 bits per pixel, which means each pixel can only be one of 256 different colors, which is very limited by today's standards. GIF supports animation, allowing you to create files with multiple frames that play over time, and can be looped or not. There is also an alpha channel that will allow one color to be transparent. Because of the color limitations, GIFs tend to work better for graphic images, with limited color paletts, than for photos, with a larger range of colors. <a href="https://en.wikipedia.org/wiki/GIF">Check out the Wikipedia page</a> for more information on GIFs.</p>

		<h3>PNG</h3>

		<p>PNG, short for Portable Network Graphics, were developed as a response to the patents associated with the GIF format (these patents have all since expired), and was originally released in 1996. It supports a greater range of colors than GIF as well as more sophisticated transparency options. Compression for PNGs is also more sophisticated than GIF. Although photos saved as PNGs are likely to have better quality than JPGs, they will generally take up more digital storage than JPGs since JPGs are a lossy format. <a href="https://en.wikipedia.org/wiki/Portable_Network_Graphics">More about PNG</a>.</p>

		<h3>SVG</h3>

		<p>Short for Scalable Vector Graphics, the SVG format was originally released in 2001. They are an XML based graphics format with support for interactivity and animation. SVG did not reach broad native support by web browsers until around 2010. <a href="https://en.wikipedia.org/wiki/Scalable_Vector_Graphics">More about SVG</a>.</p>

		<h3>Other Formats</h3>

		<p>As you can see from the published dates of the formats mentioned above, we have been using the same formats for images for a long time. Work on new image formats has continued, but broad support across browsers lags behind. For example, Apple saves images in HIEC format on its devices, which provides much better quality at much smaller files size compared to JPEG. So why not put HIEC images in your web page? Because your browser may not render it at all.</p>
		<h4>WebP</h4>
		
		<p>WebP is a format developed by Google and released in 2010. It has been supported in Google Chrome and Firefox browsers for a while, but only recently gained support in Safari and iOS as of 2020 releases (Mac OS Big Sur and iOS 14). There has been some criticism that WebP is not significantly better quality than JPEG. <a href="https://en.wikipedia.org/wiki/WebP">More about WebP</a>.</p>
		
		<h4>AVIF</h4>
		
		<p>Probably the most promising of the newer formats, AVIF considerably improves both the quality and the amount of compression achieved for images. The format is supported by both Chrome and Firefox browsers as of 2020, and it is hoped that since Apple is in the working group, that they will not be so slow to bring support to Safari on Mac OS and iOS as they were with WebP. <a href="https://en.wikipedia.org/wiki/AV1#AV1_Image_File_Format_(AVIF)">More about AVIF here</a>. Also check out <a href="https://jakearchibald.com/2020/avif-has-landed/">this great article</a>.</p>

		<p>There is a lot to learn about image formats and it's an area of computer science that is fascinating, but is outside the scope of this course. For this course we will stick with JPEG, GIF, PNG and SVG formats.</p>

		<h3>Exporting Different Formats from Photoshop</h3>

		<p><iframe width="100%" height="360" src="https://www.youtube.com/embed/FYhetJu3ohI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>

		<h3>Working with SVG</h3>

		<p><iframe width="100%" height="360" src="https://www.youtube.com/embed/A7bk2BErx9o" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
				<h2>Working with Images in HTML and CSS</h2>

		<p>Once you have chosen the correct format for your images and optimized them for the use of your project, it is time to address different ways you can use them on web pages. There are two contexts through which you will see images on a web page:</p>
		<ol>
			<li>Images as content on the page, through the use of the <code>&lt;img&gt;</code> tag or the newer <code>&lt;picture&gt;</code> tag (which allows you to list multiple image sources and let the browser choose which one to display based on viewport size, etc.)</li>
			<li>Images loaded through CSS as the background for particular elements on the page. These images are not content on the page, but are essentially a &quot;decoration&quot; on the elements for which they are backgrounds.</li>
		</ol>
		
		<h3>Can You Tell The Difference?</h3>
		
		<div class="layout">
			<img src="images/cat-square.jpg" alt="Purrcee" width="202" height="202">
			<div id="bgimg"></div>
		</div>

		<p>Looking at the two images above with your eyes, you can't really tell the difference between the two. But the first is content on the page, provided by the <code>&lt;img&gt;</code> tag with a src attribute. The second is the &quot;decoration&quot; of a <code>&lt;div&gt;</code> element, with the image loading through CSS as a background declaration.</p>

		<p>The image loaded through the <code>&lt;img&gt;</code> tag will be indexed by Google, its alt attribute will be read by screen readers, etc. The image loaded through CSS will not be indexed, as it is not content on the page.</p>

		<h3>Advantages and Disadvantages of Images as Content &amp; Images as Decoration</h3>

		<p>Besides the consideration of whether or not an image should be content on your page, or a decoration for some other element on the page, there are other technical advantages and disadvantages to each approach.</p>

		<p>Images loaded through CSS as background images can be set to background-size: cover; allowing the element to crop the image as needed â€“ an effect not so easily achieved by including the image in the content of the page, through an <code>&lt;img&gt;</code> tag.</p>
	</section>
	
	<div id="full-width"></div>
	
	<section>
		<p>Notice that if you resize your browser window, the image above is cropped differently. This image is not content on the page, but it is the background image for an empty <code>&lt;div&gt;</code> element.</p>

		<p>Also through CSS you can easily swap an image in the background of an element by adding a :hover pseudo class rule. See the example below.</p>
		<div id="css-hover-example"></div>

		<p>Because of features in CSS and HTML, images on the page and images loaded as backgrounds in CSS have different features, and that may be an important consideration when using images in your project.</p>

		<h3>Images as Content Issues</h3>

		<p>Another thing that sometimes causes styling problems is that images on your page through either the <code>&lt;img&gt;</code> tag or the <code>&lt;picture&gt;</code> tag are, by default, inline, or phrasing content. This is because images are content, just like words are content, and it is possible that you might have some content that starts as words, then includes an image, then has more words, and the image would be inline with the words.</p>

		<p>Usually we don't think of using images in this way. We think of them as blocks on the page, and we want to style them that way. However, there are times when we do use images as content, for example, think of the use of emojis &#x1f4a9; within content.</p>

		<p>The fact that images display as inline elements sometimes causes styling problems that can drive designers nuts.</p>
		<div class="layout">
			<div class="inline-example">
				<img src="images/orange-tree1.jpg" alt="orange tree">
				<p> Notice that there is a gap between the tree and the background color for this paragraph!</p>
			</div>

			<div class="inline-example">
				<img src="images/orange-tree2.jpg" alt="orange tree" class="block">
				<p> Notice that there is no gap between the tree and the background color for this paragraph!</p>
			</div>
		</div>

		<p>In the examples above, why is there a gap under the image on the left? That image is an inline element, and <em>the gap is caused by the rest of the line</em>. The image on the right is set to <code>display: block;</code> and now behaves like a block element.</p>

		<p>Frequently it is helpful to add <code>img { display: block; }</code> as a reset rule at the top of your stylesheet to make all images on the page display as block elements by default.</p>
		
		<h4>Images Overrunning Containers</h4>
		
		<p>If you have a container on your page, such as an <code>&lt;article&gt;</code>, <code>&lt;section&gt;</code>, <code>&lt;aside&gt;</code> or <code>&lt;div&gt;</code> with an <code>&lt;img&gt;</code> inside it, and the container is set to a specific width, and the image size is greater than that width, it will break out of that container.</p>
		
		<div id="no-overflow">
			<img src="images/dogs.jpg" alt="two dogs">
		</div>
		<div id="overflow">
			<img src="images/dogs.jpg" alt="two dogs">
		</div>
		<div id="contained">
			<img src="images/dogs.jpg" alt="two dogs">
		</div>

		<p>One way to deal with this is through CSS by adding to the reset rule on images, so that it contains two declarations:</p>

		<p><code>img { display: block; max-width: 100%; }</code></p>

		<p>Note that when you do this, it is easy to forget that loading an image that is larger than the container, and potentially larger than what the user needs can be downloaded and displayed, causes unnecessary bandwidth costs and slows down the page load. More on performance shortly.</p>

		<p>Another way of dealing with images overrunning their containers is to set overflow: hidden on the container. That way, any portion of the image, or any other content that does not fit in the container will be hidden from view. This can provide interesting opportunities for interaction design, as you can control what is seen, and what is not seen within a container.</p>

		<p>Notice the top image in this example bust out of its container. However, the second one does not. The second div has <code>overflow: hidden;</code>. The padding and pink background color were added to show what's going on even more explictly.</p>

		<p>Notice the third example is set to <code>display:block</code> and <code>max-width: 100%</code>, but the image is displayed small than the file actually is.</p>

		<h3>Summary</h3>

		<p>Be extra careful when deciding to use images as content or as decoration. Keep both the technical and contextual considerations in mind when making those choices, as they are all important.</p>
				<h2>Performance and Performance Testing</h2>

		<p>Designers and developers often ask, &quot;how big should my images be? Is there a maximum size or set of recommendations, or guidelines?&quot;</p>

		<p>We have provided guidelines for maximum sizes for specific projects in this course. However, the real answer is that it depends on the intended use for the digital product you are designing, the audience you are designing it for, and the context for where it will be viewed. It is important to keep file dimensions at the size you and viewers need them and not larger,</p>

		<p>Here is a <a href="https://shkspr.mobi/blog/2021/01/the-unreasonable-effectiveness-of-simple-html/">recent blog post</a> that tells a story of a situation where it was really important for a digital product (a website in this case) to be accessible on a substandard browser from a substandard internet connection.</p>

		<p>The Design Disruptors documentary includes an interview with developers at Facebook describing how they occasionally use their product on an intentionally slowed or inhibited network to simulate use of their product by users who are in situations where they can not get fast connections.</p>

		<p><iframe width="100%" height="360px" src="https://www.youtube.com/embed/i-4bCyRDhtg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>

		<p>However, you might be creating a digital project that would be part of a kiosk that users would encounter in an installation, and all resources needed for the project may be local to that kiosk, rendering network performance moot.</p>

		<p>These examples show how wide the range of users and context for use can be for a product.</p>

		<h3>Performance Testing</h3>

		<p>If you are delivering your content over a network, your best practice is to find out what are the actual impacts of downloading the resources for your project. How long will they take at different network speeds? Luckily, Chrome has some tools built in that make it easy to test this.</p>

		<p><iframe width="100%" height="400px" src="https://www.youtube.com/embed/6lFBH6tTKfI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>

		<p>Once you have completed some basic testing, you may need to revisit some of the resources your product uses and further optimize them, or look for different strategies for communicating your ideas.</p>

		<h3>Summary of Important Points</h3>
		<ul>
			<li>Pick the correct format for the correct images</li>
			<li>Optimize your images for size on the screen and file size</li>
			<li>Consider carefully if your images should be content on the page, or a decoration for an element.</li>
			<li>Consider techniques needed to make your site function as required</li>
			<li>Consider the context within which your site will be used and by whom</li>
			<li>Test the performance of your site and further optimize as needed.</li>
		</ul>
		
		<h2>Creating Interactions with CSS</h2>

		<p>It is common for interaction design patterns, once they become familiar, and recognized as common to make their way from JavaScript to CSS or HTML.</p>

		<p>Generally turn to CSS first for any interactions you want to create.JavaScript should be used when the desired interaction can not be achieved effectively or consistently with CSS.An example of this transition to HTML is the inclusion of the &quot;required&quot; attribute on form <code>&lt;input&gt;</code> tags. We see it frequently in CSS where animations and effects that were once only achievable through JavaScript can now be done in CSS. For example, rounded corners on elements were once achieved through JavaScript. Now we have border-radius in CSS, making it much easier and more efficient to get that effect.</p>

		<p>Some features are still in the process of transitioning. For example, the smooth scroll behavior is coming to native CSS, but it's not fully supported by browsers yet. So until it is, if you want a smooth scroll effect (click on a link and it smoothly scrolls to a link down the page), you need to achieve this still with JavaScript.</p>

		<p>An example of an interaction that does not require JavaScript, is grow on hover.</p>
		<div class="grow">
			<img src="images/salad.jpg" alt="salad">
		</div>

		<p>CSS properties are used to make this interaction and no JavaScript is needed.</p>
		
<pre><code>.grow img {
	max-width: 100%;
	transition: all 1s ease;
}

.grow img:hover {
	transform: scale(2);
	box-shadow: 2px 2px 20px 1px rgba(0,0,0,0.75);
}</code></pre>
		

		<p>CSS also has filters that can be applied to images.</p>
		<div class="layout">
			<img src="images/shrem.jpg" alt="Manetti Shrem Museum" id="normal">
			<img src="images/shrem.jpg" alt="Manetti Shrem Museum" id="greyscale">
			<img src="images/shrem.jpg" alt="Manetti Shrem Museum" id="blur">
		</div>

		<p>In the example above the same images is displayed three times. The first is without any filters, the second is with <code>filter: greyscale(100%);</code> applied, and the third is with <code>filter: blur(5px);</code> applied.</p>

		<h3>About :hover Pseudo Class</h3>

		<p>It is important to note that :hover works well on a desktop browser, but not so well in a touch screen environment, or on mobile, where there is no hover. On mobile, a tap will also activate a :hover pseudo class, but it may not behave as expected, as it's not really the same interaction.</p>

		<p>In JavaScript we have the mouseover and mouseout events, and for mobile we have touchstart, touchmove and touchend events, that we can use to distinguish between these different interactions.</p>

		<p>However, for this course, we are focusing on desktop development and not mobile. We will provide you with some examples for touchstart and touchend for you to experiment with if you're interested later in the course.</p>
		<h2>Triggering Effects with JavaScript</h2>

		<p>This is perhaps the most frequent and best case for creating interactions with HTML, CSS and JavaScript. Without JavaScript, the only real interaction at our disposal is hovering over an element with a mouse, captured by the :hover pseudo class, mentioned above.</p>

		<p>Once we bring JavaScript into the picture, we can capture all kinds of events, such as clicking, form submitting, scrolling, browser resizing, etc, as you have already seen in this course. We can use those events to trigger CSS animations and other effects, and we can apply many of those effects to images.</p>

		<p>Below is a simple image slideshow. Clicking the next and previous links simply changes the value of the src attribute on the <code>&lt;img&gt;</code> tag. Very easy.</p>

		<p><iframe src="simpleslideshow/index.html" width="430px" height="300px" frameBorder="0"></iframe></p>

		<p>You can create more sophisticated interactions with animations. The slideshow below stacks images on top of each other and then fades them in, creating a nice cross fade effect.</p>

		<p><iframe src="crossfade-slideshow/index.html" width="430px" height="340px" frameBorder="0"></iframe></p>

		<p>Slide shows aren't terribly interesting. They don't provide users with a lot of options, but they might be the right interaction for your project. Think about what you want to communicate and what is the most effective way to communicate your ideas.</p>

		<p>There are an unlimited number of ways that images can be used within projects to great effect. Below is a scroll of images Bill wrote a script for to use on one of his own websites recently. The animation is done entirely in CSS.</p>
	</section>
		<p><iframe src="imagescroll/index.html" width="100%" height="200px" frameBorder="0"></iframe></p>
	<section>
		<p>The best thing to do is to play around with different ideas and see what strikes you! Get inspired by looking at different projects, or the way elements in the real world interact. Perhaps there's something inspiring about the way the sunlight shines through a window and creates patterns that travel across the surface of a floor or wall that would be interesting to try to capture. What else can you notice? Apply <a href="https://learning.blogs.nytimes.com/2015/02/27/10-intriguing-photographs-to-teach-close-reading-and-visual-thinking-skills/">visual thinking/close reading strategies</a>!</p>
		<h2>Consider Microinteractions</h2>

		<p>The idea of Microinteractions is something we study a little in the DES 112 course, which you may or may not have taken. Dan Saffer wrote his book on <a href="https://microinteractions.com/">Microinteractions</a>, which was published in 2013 and discusses how we can make emotional connections with our users through small interactions. Consider the example below, which is a project Bill sometimes has students make as an example of microinteractions.</p>

		<p><iframe src="3dbuttonflip/index.html" width="100%" height="400px" frameBorder="0"></iframe></p>

		<p>Notice that the hearts that appear is just a simple animated GIF. No need for complicated animations. Sometimes the simplest approach is best and most effective.</p>

		<h3>Summary of Important Points</h3>
		<ul>
			<li>Use CSS for interactions and animations as much as possible</li>
			<li>Remember that the :hover pseudo class may not work as expected on mobile environments</li>
			<li>Trigger CSS animations and effects with JavaScript</li>
			<li>Play with and experiment with images and see what sorts of effects you can get.</li>
			<li>Get inspiration from other projects, through play or the real world.</li>
			<li>Apply visual thinking strategies</li>
			<li>Consider microinteractions and how to make emotional connections with users.</li>
		</ul>
	</section>
</body>
</html>
